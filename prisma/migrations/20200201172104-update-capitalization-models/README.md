# Migration `20200201172104-update-capitalization-models`

This migration has been generated by hatchli at 2/1/2020, 5:21:04 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `prisma`.`Post` (
    `author_id` int NOT NULL ,
    `content` varchar(191)   ,
    `created_at` datetime(3)   ,
    `post_id` int NOT NULL  AUTO_INCREMENT,
    `title` varchar(191) NOT NULL DEFAULT '' ,
    PRIMARY KEY (`post_id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`Profile` (
    `bio` varchar(191)   ,
    `profile_id` int NOT NULL  AUTO_INCREMENT,
    `user_id` int NOT NULL ,
    PRIMARY KEY (`profile_id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `prisma`.`User` (
    `email` varchar(191) NOT NULL DEFAULT '' ,
    `name` varchar(191)   ,
    `role` varchar(191) NOT NULL DEFAULT 'USER' ,
    `user_id` int NOT NULL  AUTO_INCREMENT,
    PRIMARY KEY (`user_id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE UNIQUE INDEX `User.email` ON `prisma`.`User`(`email`)

ALTER TABLE `prisma`.`Post` ADD FOREIGN KEY (`author_id`) REFERENCES `prisma`.`User`(`user_id`) ON DELETE RESTRICT

ALTER TABLE `prisma`.`Profile` ADD FOREIGN KEY (`user_id`) REFERENCES `prisma`.`User`(`user_id`) ON DELETE RESTRICT

DROP TABLE `prisma`.`post`;

DROP TABLE `prisma`.`profile`;

DROP TABLE `prisma`.`user`;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200201171659-update-profile-post-models..20200201172104-update-capitalization-models
--- datamodel.dml
+++ datamodel.dml
@@ -3,29 +3,29 @@
 }
 datasource mysql {
   provider = "mysql"
-  url = "***"
+  url      = "mysql://prisma:F1g+sparrow@prisma.clisj67py2b1.us-east-2.rds.amazonaws.com:3306/prisma"
 }
-model post {
+model Post {
   content    String?
   created_at DateTime?
   post_id    Int       @default(autoincrement()) @id
   title      String    @default("")
-  author_id  user
+  author_id  User
 }
-model profile {
+model Profile {
   bio        String?
   profile_id Int     @default(autoincrement()) @id
-  user_id    user
+  user_id    User
 }
-model user {
-  email      String     @default("") @unique
-  name       String?
-  role       String     @default("USER")
-  user_id    Int        @default(autoincrement()) @id
-  postses    post[]
-  profileses profile[]
+model User {
+  email    String    @default("") @unique
+  name     String?
+  role     String    @default("USER")
+  user_id  Int       @default(autoincrement()) @id
+  posts    Post[]
+  profiles Profile[]
 }
```


